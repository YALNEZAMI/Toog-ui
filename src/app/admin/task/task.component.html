<main class="p-2">
  <!--return button-->
  <button
    (click)="return()"
    class="fixed top-1 z-20 left-1 bg-orange-300 p-1 rounded"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-6 h-6"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
      />
    </svg>
  </button>
  <!--task image-->
  <div><img [src]="task.photo" alt="" class="w-full h-52" /></div>
  <!--task header-->
  <div class="flex justify-center border-2 border-gray-300 mt-2">
    <!--project relative-->
    <div class="w-1/6 p-2 pt-3 underline">
      <button (click)="goToProject()">project</button>
    </div>
    <!--task name-->
    <h1 class="text-4xl p-1 font-bold w-3/4 text-center truncate">
      {{ task.name }}
    </h1>
    <!--task order-->
    <div class="w-1/6 pt-3 flex">
      {{ task.order }}
      <!--fire icon-->
      <svg
        *ngIf="isUrgentTask()"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 text-red-500"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"
        />
      </svg>
      <!--water icon-->
      <svg
        *ngIf="!isUrgentTask()"
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-droplet-half w-6 h-6 text-blue-500"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M7.21.8C7.69.295 8 0 8 0q.164.544.371 1.038c.812 1.946 2.073 3.35 3.197 4.6C12.878 7.096 14 8.345 14 10a6 6 0 0 1-12 0C2 6.668 5.58 2.517 7.21.8m.413 1.021A31 31 0 0 0 5.794 3.99c-.726.95-1.436 2.008-1.96 3.07C3.304 8.133 3 9.138 3 10c0 0 2.5 1.5 5 .5s5-.5 5-.5c0-1.201-.796-2.157-2.181-3.7l-.03-.032C9.75 5.11 8.5 3.72 7.623 1.82z"
        />
        <path
          fill-rule="evenodd"
          d="M4.553 7.776c.82-1.641 1.717-2.753 2.093-3.13l.708.708c-.29.29-1.128 1.311-1.907 2.87z"
        />
      </svg>
    </div>
  </div>
  <!--description-->
  <div class="p-1 font-light">
    <p id="descriptionParagraphe" class="p-1 font-light">
      {{ task.description }}
    </p>
    <!---
      <button
        *ngIf="seeMoreDescriptionBool()"
        (click)="seeMoreDescription()"
        class="text-blue-400"
      >
        ...see more
      </button>
      <button
        *ngIf="seeLessDescriptionBool()"
        (click)="seeLessDescription()"
        class="text-blue-400"
      >
        ...see less
      </button>-->
  </div>
  <hr />
  <!--Dead line-->
  <div class="my-3">Dead line: {{ getDeadLine() }}</div>

  <!--participants-->
  <h1>Participants:</h1>
  <div class="flex flex-wrap space-x-1 my-1">
    <div
      *ngFor="let participant of task.participants"
      class="w-max p-2 bg-gray-300 rounded"
    >
      <div class="flex flex-col">
        <div class="flex justify-center">
          <img
            [src]="participant.profilePhoto"
            alt="ownerphoto"
            crossorigin="anonymous"
            class="w-20 h-20 rounded-full"
          />
        </div>
        <div class="text-center underline">{{ participant.name }}</div>
      </div>
    </div>
  </div>
</main>
