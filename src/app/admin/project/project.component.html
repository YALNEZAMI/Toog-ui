<main class="p-2">
  <!--return button-->
  <button
    (click)="return()"
    class="fixed top-1 z-20 left-1 bg-orange-300 p-1 rounded"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-6 h-6"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
      />
    </svg>
  </button>
  <!--project image-->
  <div><img [src]="project.photo" alt="" class="w-full h-52" /></div>
  <!--project name-->
  <div>
    <h1
      class="text-4xl border-2 border-gray-300 p-1 font-bold w-full text-center"
    >
      {{ project.name }}
    </h1>
  </div>
  <!--description-->
  <div class="p-1 font-light">
    <p id="descriptionParagraphe" class="p-1 font-light">
      {{ project.description }}
    </p>
    <!---
    <button
      *ngIf="seeMoreDescriptionBool()"
      (click)="seeMoreDescription()"
      class="text-blue-400"
    >
      ...see more
    </button>
    <button
      *ngIf="seeLessDescriptionBool()"
      (click)="seeLessDescription()"
      class="text-blue-400"
    >
      ...see less
    </button>-->
  </div>
  <hr />
  <!--Dead line-->
  <div class="my-3">Dead line: {{ getDeadLine() }}</div>
  <!--owner and participants-->
  <div class="bg-orange-200 p-3 rounded">
    <!--label-->
    <h1 class="mb-3">Owner and participants:</h1>
    <!--owner-->
    <div class="flex justify-center">
      <div class="w-max p-2 bg-black rounded">
        <div class="flex flex-col">
          <div class="flex justify-center">
            <img
              [src]="project.owner?.profilePhoto"
              alt="ownerphoto"
              crossorigin="anonymous"
              class="w-20 h-20 rounded-full"
            />
          </div>
          <div class="text-center underline text-white">
            {{ project.owner?.name }}
          </div>
        </div>
      </div>
    </div>
    <!--participants-->
    <div class="flex flex-wrap space-x-1 my-1">
      <div
        *ngFor="let participant of project.participants"
        class="w-max p-2 bg-gray-300 rounded"
      >
        <div class="flex flex-col">
          <div class="flex justify-center">
            <img
              [src]="participant.profilePhoto"
              alt="ownerphoto"
              crossorigin="anonymous"
              class="w-20 h-20 rounded-full"
            />
          </div>
          <div class="text-center underline">{{ participant.name }}</div>
        </div>
      </div>
    </div>
  </div>
  <!--tasks-->
  <div class="bg-green-200 p-3 my-2">
    <div class="flex justify-between">
      <span class="mb-3 pt-1">Tasks:</span>
      <button (click)="onlyMyTasks = !onlyMyTasks" class="rounded p-1">
        <span *ngIf="!onlyMyTasks">Only mine</span>
        <span *ngIf="onlyMyTasks">All tasks</span>
      </button>
    </div>

    <div class="flex flex-wrap">
      <app-task *ngFor="let task of getTasks()" [task]="task"></app-task>
    </div>
  </div>
  <!--delete the team button-->
  <button
    (click)="deleteConfirm = !deleteConfirm"
    class="bg-red-600 hover:bg-red-500 p-3 w-full text-white"
  >
    Delete the project
  </button>
  <!--delete confirm panel-->
  <div
    *ngIf="deleteConfirm"
    class="fixed top-1/2 left-1/4 w-1/2 h-max p-3 bg-white rounded"
  >
    <h1 class="text-center">Are you sure ?</h1>
    <div class="flex space-x-2">
      <button
        (click)="deleteProject()"
        class="w-1/2 text-center bg-orange-600 hover:bg-orange-500"
      >
        yes
      </button>
      <button
        (click)="deleteConfirm = !deleteConfirm"
        class="w-1/2 text-center bg-blue-600 hover:bg-blue-500"
      >
        no
      </button>
    </div>
  </div>
</main>
